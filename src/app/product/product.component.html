<div style="text-align: center; margin: 20px;">
    <h2>Product List</h2>

    <table style="width: 80%; margin: auto; border-collapse: collapse;">
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th style="padding: 10px; border: 1px solid #ddd;">ID</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Name</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Description</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Price</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Release Date</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let product of products">
                <td style="padding: 10px; border: 1px solid #ddd;">{{ product.productId }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ product.name }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ product.description }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ product.price }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ product.releaseDate | date }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">
                    <button (click)="editProduct(product)" style="background-color: orange; color: white; border: none; padding: 5px 10px; cursor: pointer;">Edit</button>
                </td>
            </tr>
        </tbody>
    </table>

    <div style="margin-top: 20px;">
        <h2>{{ isEditing ? 'Edit' : 'Add' }} Product</h2>
        <form (ngSubmit)="saveProduct()" style="display: flex; flex-direction: column; align-items: center; gap: 10px; width: 50%; margin: auto;">
            <!-- ID Field (Auto-filled for editing) -->
            <input [(ngModel)]="currentProduct.productId" name="id" placeholder="ID" required [readonly]="isEditing" style="padding: 8px; width: 100%;" />
            <input [(ngModel)]="currentProduct.name" name="name" placeholder="Name" required style="padding: 8px; width: 100%;" />
            <input [(ngModel)]="currentProduct.description" name="description" placeholder="Description" required style="padding: 8px; width: 100%;" />
            <input [(ngModel)]="currentProduct.price" name="price" type="number" placeholder="Price" required style="padding: 8px; width: 100%;" />
            <input [(ngModel)]="currentProduct.releaseDate" name="releaseDate" type="date" required style="padding: 8px; width: 100%;" />
            
            <div>
                <button type="submit" style="background-color: blue; color: white; border: none; padding: 10px 15px; cursor: pointer;">
                    {{ isEditing ? 'Update' : 'Add' }} Product
                </button>
                <button *ngIf="isEditing" (click)="deleteProduct(currentProduct.productId)" type="button" style="background-color: red; color: white; border: none; padding: 10px 15px; cursor: pointer;">
                    Delete
                </button>
                <button (click)="cancelEdit()" type="button" style="background-color: gray; color: white; border: none; padding: 10px 15px; cursor: pointer;">
                    Clear
                </button>
            </div>
        </form>
    </div>
</div>
